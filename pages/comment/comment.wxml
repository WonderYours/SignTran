<view id="all">
  <camera device-position="front" flash="on" class="camera" style="--size:{{cameraSize}}"></camera>
  <!-- <image src="/images/微信图片_20240409201320.png" style="position: absolute; top: 5rpx; left: 125rpx; width:500rpx; height: 500rpx;z-index: 105;opacity:{{cameraSize==5?1:0}}"></image> -->
  <scroll-view id="chat_frame" scroll-y="true" enhanced="true" scroll-into-view="{{toView}}">
    <view class="chat_area">
      <view class="colum" style="flex-direction: row; margin-right: auto;margin-left: 20rpx;">
        <i-avatar size="large">声</i-avatar>
        <view class="chat_box" style="border-top-left-radius: 0; border-top-right-radius: 20rpx;">点击下方按钮，录制视频并上传，我们将识别您的动作并进行翻译</view>
      </view>
    </view>
    <view class="chat_area" wx:for="{{textList}}" wx:key="key">
      <!-- 普通类型 -->
      <view class="colum" wx:if="{{item.type=='string' ||!item.type}}">
        <i-avatar size="large">用</i-avatar>
        <view class="chat_box">{{item.content}}</view>
      </view>
      <!-- 展示视频 -->
      <view wx:elif="{{item.type=='video'}}" class="colum">
        <i-avatar size="large">用</i-avatar>
        <video src="{{item.content}}" controls="false"></video>
      </view>
      <!-- 类型错误时 -->
      <view wx:else class="colum">
        <i-avatar size="large">错</i-avatar>
        <view class="chat_box">此类型消息暂时无法显示</view>
      </view>
    </view>
    <view class="placeHolder" id="bottom"></view>
  </scroll-view>
</view>

<view class="fix">
  <van-icon name="video-o" size="80rpx" bind:click="find" />
  <view wx:if="{{!isRecording&&video_url==null}}" class="record" hover-class="record_active">
    <van-icon name="play-circle" size="150rpx" bind:click="record" />
  </view>
  <view wx:elif="{{video_url!=null}}" class="record" hover-class="record_active">
    <van-icon name="replay" size="150rpx" bind:click="record" />
  </view>
  <view wx:else class="record" hover-class="record_active">
    <van-icon name="stop-circle" size="150rpx" bind:click="record" />
  </view>
  <van-icon name="guide-o" size="80rpx" bind:click="trans" />
  <!-- <van-icon name="volume" color="black" size="80rpx" bind:click="produce" /> -->
</view>


<!-- 
<van-row>
  <van-col span="8">
    <van-icon name="stop-circle-o" color="#5e616d" size="80rpx" bind:click="record" custom-style="margin-left:50rpx;margin-top:110rpx" position="fixed">开始录像</van-icon>
    <van-icon name="upgrade" color="#5e616d" size="80rpx" bind:click="find" custom-style="margin-left:620rpx;top:-82rpx">开始录像
    </van-icon>
  </van-col>
  <van-col>
    <van-icon name="guide-o" color="#5e616d" size="80rpx" bind:click="trans" custom-style="margin-left:620rpx;margin-top:180rpx" position="fixed"></van-icon>
    <van-icon name="volume-o" color="#5e616d" size="70rpx" bind:click="produce" custom-style="margin-left:50rpx;top:-82rpx"></van-icon>
  </van-col>
</van-row> -->